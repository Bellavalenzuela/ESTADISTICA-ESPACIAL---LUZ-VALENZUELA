<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Estad√≠stica Espacial - Luz Bella Valenzuela Narvaez</title>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

    :root{
      --bg-dark:#0a0a0f;
      --bg-card:#12121a;
      --purple:#a855f7;
      --cyan:#06b6d4;
      --cyan-light:#22d3ee;
      --text:#e2e8f0;
      --text-muted:#94a3b8;
    }

    *{box-sizing:border-box;margin:0;padding:0;}

    body{
      font-family:'Poppins',sans-serif;
      background:#0a0a0f;
      color:var(--text);
    }

    .container{
      max-width:1200px;
      margin:auto;
      padding:40px 20px;
    }

    .card{
      background:var(--bg-card);
      border-radius:20px;
      padding:30px;
      margin-bottom:24px;
      border:1px solid rgba(168,85,247,.15);
    }

    .btn{
      background:linear-gradient(90deg,var(--purple),var(--cyan));
      color:white;
      padding:12px 26px;
      border-radius:50px;
      border:none;
      cursor:pointer;
      font-weight:600;
    }

    .trabajo-card{
      background:rgba(255,255,255,.03);
      border:1px solid rgba(6,182,212,.3);
      padding:20px;
      border-radius:14px;
      margin-bottom:14px;
    }

    .btn-eliminar{
      background:#ef4444;
      color:white;
      border:none;
      padding:6px 12px;
      border-radius:6px;
      cursor:pointer;
      font-size:12px;
    }

    .input-field{
      width:100%;
      padding:14px;
      margin-bottom:12px;
      border-radius:10px;
      border:1px solid rgba(168,85,247,.3);
      background:rgba(255,255,255,.05);
      color:white;
    }

    .form-agregar{
      border:2px dashed var(--cyan);
      padding:24px;
      border-radius:16px;
      margin-bottom:30px;
    }
  </style>
</head>

<body>
<div class="container">

  <div class="card">
    <h2>üìã Trabajos Acad√©micos</h2>

    <!-- BOTONES UNIDAD -->
    <div style="display:flex;gap:12px;margin-bottom:20px">
      <button class="btn" onclick="seleccionarUnidad('unidad1')">üìò Unidad 1</button>
      <button class="btn" onclick="seleccionarUnidad('unidad2')">üìô Unidad 2</button>
    </div>

    <!-- FORMULARIO -->
    <div class="form-agregar">
      <input id="input-titulo" class="input-field" placeholder="T√≠tulo del trabajo">
      <textarea id="input-descripcion" class="input-field" placeholder="Descripci√≥n"></textarea>

      <input type="file" id="input-archivo" style="display:none">
      <button class="btn" onclick="document.getElementById('input-archivo').click()">üìÅ Subir archivo</button>

      <input id="input-url" class="input-field" placeholder="O URL del archivo">

      <button id="btn-agregar" class="btn" style="width:100%">‚ûï Agregar Trabajo</button>
    </div>

    <!-- LISTAS -->
    <div id="lista-trabajos-unidad1"></div>
    <div id="lista-trabajos-unidad2" style="display:none"></div>

  </div>
</div>

<script>
let unidadActual = "unidad1";
let archivoSeleccionado = null;

function seleccionarUnidad(unidad){
  unidadActual = unidad;
  document.getElementById("lista-trabajos-unidad1").style.display = unidad==="unidad1"?"block":"none";
  document.getElementById("lista-trabajos-unidad2").style.display = unidad==="unidad2"?"block":"none";
}

document.getElementById("input-archivo").addEventListener("change", e=>{
  archivoSeleccionado = e.target.files[0];
  document.getElementById("input-url").value="";
});

document.getElementById("btn-agregar").addEventListener("click",()=>{
  const titulo = input-titulo.value.trim();
  const descripcion = input-descripcion.value.trim();
  const url = input-url.value.trim();

  if(!titulo || !descripcion){
    alert("Completa t√≠tulo y descripci√≥n");
    return;
  }

  let enlace = url;
  let nombre = url;

  if(archivoSeleccionado){
    enlace = URL.createObjectURL(archivoSeleccionado);
    nombre = archivoSeleccionado.name;
  }

  renderizarTrabajo(titulo,descripcion,enlace,nombre,true);

  input-titulo.value="";
  input-descripcion.value="";
  input-url.value="";
  archivoSeleccionado=null;
});

function renderizarTrabajo(t,d,e,n,guardar){
  const lista = document.getElementById(`lista-trabajos-${unidadActual}`);

  const div = document.createElement("div");
  div.className="trabajo-card";
  div.innerHTML=`
    <h3>${t}</h3>
    <p>${d}</p>
    <a href="${e}" target="_blank" class="btn">üìÑ Ver</a>
    <button class="btn-eliminar" onclick="this.parentElement.remove()">üóëÔ∏è</button>
  `;
  lista.appendChild(div);

  if(guardar){
    const data = JSON.parse(localStorage.getItem(unidadActual))||[];
    data.push({titulo:t,descripcion:d,enlaceArchivo:e,nombreArchivo:n});
    localStorage.setItem(unidadActual,JSON.stringify(data));
  }
}

["unidad1","unidad2"].forEach(u=>{
  const datos = JSON.parse(localStorage.getItem(u))||[];
  datos.forEach(t=>{
    unidadActual=u;
    renderizarTrabajo(t.titulo,t.descripcion,t.enlaceArchivo,t.nombreArchivo,false);
  });
});

seleccionarUnidad("unidad1");
</script>

</body>
</html>










